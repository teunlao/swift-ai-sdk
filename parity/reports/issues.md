# –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –ø–∞—Ä–∏—Ç–µ—Ç–∞

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-10-20
**–°—Ç–∞—Ç—É—Å**: –ê–∫—Ç–∏–≤–Ω—ã–π —Ç—Ä–µ–∫–∏–Ω–≥

---

## –§–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–∏

```markdown
### [ID] –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**Severity**: CRITICAL | HIGH | MEDIUM | LOW
**Status**: OPEN | IN_PROGRESS | RESOLVED | WONTFIX
**Package**: AISDKProvider | AISDKProviderUtils | SwiftAISDK
**Category**: API | Types | Tests | Behavior

**–§–∞–π–ª—ã**:
- TS: `path/to/upstream.ts`
- Swift: `path/to/Swift.swift`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã.

**–û–∂–∏–¥–∞–µ—Ç—Å—è** (–ø–æ upstream):
–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–≥–ª–∞—Å–Ω–æ TypeScript –≤–µ—Ä—Å–∏–∏.

**–†–µ–∞–ª—å–Ω–æ** (–≤ Swift):
–ß—Ç–æ –µ—Å—Ç—å —Å–µ–π—á–∞—Å –≤ Swift –ø–æ—Ä—Ç–µ.

**–†–µ—à–µ–Ω–∏–µ**:
–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ.

**–û–±–Ω–æ–≤–ª–µ–Ω–æ**: YYYY-MM-DD
```

---

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–í—Å–µ–≥–æ –ø—Ä–æ–±–ª–µ–º**: 2
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö**: 0
- **–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: 1
- **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: 0
- **–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: 1
- **–†–µ—à–µ–Ω–æ**: 1

---

## üü¢ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (CRITICAL)

_–ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –Ω–∞—Ä—É—à–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å_

### –°—Ç–∞—Ç—É—Å: –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º ‚úÖ

---

## üü° –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (HIGH)

_–í–∞–∂–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è_

### [ISSUE-001] –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç inject-json-instruction —Ñ—É–Ω–∫—Ü–∏—è

**Severity**: HIGH
**Status**: OPEN
**Package**: AISDKProviderUtils
**Category**: API

**–§–∞–π–ª—ã**:
- TS: `provider-utils/src/inject-json-instruction.ts`
- Swift: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–§—É–Ω–∫—Ü–∏—è `injectJsonInstruction` –∏ `injectJsonInstructionIntoMessages` –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ Swift –ø–æ—Ä—Ç–µ. –≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è JSON schema –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –≤ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –º–æ–¥–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç structured output –Ω–∞—Ç–∏–≤–Ω–æ.

**–û–∂–∏–¥–∞–µ—Ç—Å—è** (–ø–æ upstream):
```typescript
export function injectJsonInstruction({
  prompt,
  schema,
  schemaPrefix,
  schemaSuffix,
}: {
  prompt?: string;
  schema?: JSONSchema7;
  schemaPrefix?: string;
  schemaSuffix?: string;
}): string

export function injectJsonInstructionIntoMessages({
  messages,
  schema,
  schemaPrefix,
  schemaSuffix,
}: {
  messages: LanguageModelV3Prompt;
  schema?: JSONSchema7;
  schemaPrefix?: string;
  schemaSuffix?: string;
}): LanguageModelV3Prompt
```

**–†–µ–∞–ª—å–Ω–æ** (–≤ Swift):
–§—É–Ω–∫—Ü–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ upstream**:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Mistral provider
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∏–∑ `@ai-sdk/provider-utils`
- –¢–∞–∫–∂–µ –µ—Å—Ç—å –∫–æ–ø–∏—è –≤ `@ai-sdk/ai/src/generate-object/`

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ AISDKProviderUtils
2. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã
3. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: HIGH - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ production providers (Mistral)

**–°–æ–∑–¥–∞–Ω–æ**: 2025-10-20

---

## üü† –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (MEDIUM)

_–†–∞–∑–ª–∏—á–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å, –Ω–æ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç —Ä–∞–±–æ—Ç—É_

_–ü–æ–∫–∞ –Ω–µ—Ç_

---

## üîµ –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (LOW)

_–ú–µ–ª–∫–∏–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è, —É–ª—É—á—à–µ–Ω–∏—è_

### [ISSUE-002] –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç test/mock-id —É—Ç–∏–ª–∏—Ç–∞

**Severity**: LOW
**Status**: OPEN
**Package**: AISDKProviderUtils
**Category**: Tests

**–§–∞–π–ª—ã**:
- TS: `provider-utils/src/test/mock-id.ts`
- Swift: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–¢–µ—Å—Ç–æ–≤–∞—è —É—Ç–∏–ª–∏—Ç–∞ `mockId` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã—Ö ID –≤ —Ç–µ—Å—Ç–∞—Ö –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ Swift –ø–æ—Ä—Ç–µ.

**–û–∂–∏–¥–∞–µ—Ç—Å—è** (–ø–æ upstream):
```typescript
export function mockId({
  prefix = 'id',
}: {
  prefix?: string;
} = {}): () => string {
  let counter = 0;
  return () => `${prefix}-${counter++}`;
}
```

**–†–µ–∞–ª—å–Ω–æ** (–≤ Swift):
–£—Ç–∏–ª–∏—Ç–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç. –í–æ–∑–º–æ–∂–Ω–æ, Swift —Ç–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥—Ä—É–≥–æ–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö ID.

**–†–µ—à–µ–Ω–∏–µ**:
- –û–ø—Ü–∏—è 1: –ü–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —É—Ç–∏–ª–∏—Ç—É –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
- –û–ø—Ü–∏—è 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Swift native –ø–æ–¥—Ö–æ–¥ (UUID, fixed strings)
- –û–ø—Ü–∏—è 3: WONTFIX –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ç–µ—Å—Ç–∞—Ö

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: LOW - —Ç–µ—Å—Ç–æ–≤–∞—è —É—Ç–∏–ª–∏—Ç–∞, –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

**–°–æ–∑–¥–∞–Ω–æ**: 2025-10-20

---

## ‚úÖ –†–µ—à–µ–Ω–æ (RESOLVED)

### [RESOLVED-001] FinishReason –∏ Usage —Ç–∏–ø—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç

**Severity**: CRITICAL ‚Üí RESOLVED
**Status**: RESOLVED
**Package**: AISDKProvider
**Category**: Types

**–§–∞–π–ª—ã**:
- TS: `language-model/v2/language-model-v2-finish-reason.ts`
- TS: `language-model/v2/language-model-v2-usage.ts`
- Swift: `LanguageModel/V2/LanguageModelV2StreamPart.swift`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –∫–∞–∑–∞–ª–æ—Å—å, —á—Ç–æ —Ç–∏–ø—ã FinishReason –∏ Usage –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ Swift –ø–æ—Ä—Ç–µ.

**–†–µ—à–µ–Ω–∏–µ**:
–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫–∞–∑–∞–ª–∞, —á—Ç–æ —Ç–∏–ø—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç, –Ω–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –≤ —Ñ–∞–π–ª `LanguageModelV2StreamPart.swift`. –≠—Ç–æ –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞ –ø–∞—Ä–∏—Ç–µ—Ç–∞, –∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- –¢–∏–ø—ã –Ω–∞–π–¥–µ–Ω—ã ‚úÖ
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤ `architectural-differences.md` ‚úÖ
- Mapping –æ–±–Ω–æ–≤–ª–µ–Ω ‚úÖ

**–†–µ—à–µ–Ω–æ**: 2025-10-20

---

## –®–∞–±–ª–æ–Ω –¥–ª—è –Ω–æ–≤–æ–π –ø—Ä–æ–±–ª–µ–º—ã

```markdown
### [ISSUE-XXX] –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**Severity**: CRITICAL | HIGH | MEDIUM | LOW
**Status**: OPEN
**Package**: AISDKProvider | AISDKProviderUtils | SwiftAISDK
**Category**: API | Types | Tests | Behavior

**–§–∞–π–ª—ã**:
- TS: `path/to/file.ts`
- Swift: `path/to/File.swift`

**–û–ø–∏—Å–∞–Ω–∏–µ**:
...

**–û–∂–∏–¥–∞–µ—Ç—Å—è**:
...

**–†–µ–∞–ª—å–Ω–æ**:
...

**–†–µ—à–µ–Ω–∏–µ**:
...

**–°–æ–∑–¥–∞–Ω–æ**: YYYY-MM-DD
```

---

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –î–∞—Ç–∞ | –°–æ–±—ã—Ç–∏–µ | –ê–≤—Ç–æ—Ä |
|------|---------|-------|
| 2025-10-20 | –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª —Ç—Ä–µ–∫–∏–Ω–≥–∞ –ø—Ä–æ–±–ª–µ–º | Claude |
| 2025-10-20 | –†–µ—à–µ–Ω–∞ RESOLVED-001 (FinishReason/Usage) | Claude |
